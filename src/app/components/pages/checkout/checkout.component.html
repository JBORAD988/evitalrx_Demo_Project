<mat-card class="cart-card">
  <div class="checkout-div">
    <div class="frow1 bill">

      <div class="bill-form">
        <div class="fcol">
          <p class="title">Billing Details</p>

          <form class="checkout-form" [formGroup]="billingForm">
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Patient Name</mat-label>
              <input matInput placeholder="Enter Patient Name" formControlName="patientName" />
              <mat-error *ngIf="billingForm.get('patientName')?.hasError('required')">
                Patient Name is required
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Mobile Number</mat-label>
              <input matInput placeholder="Enter Mobile Number" formControlName="mobile" />
              <mat-error *ngIf="billingForm.get('mobile')?.hasError('required')">
                Mobile Number is required
              </mat-error>
              <mat-error *ngIf="billingForm.get('mobile')?.hasError('pattern')">
                Enter a valid 10-digit Mobile Number
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Address</mat-label>
              <input matInput placeholder="Enter Address" formControlName="address" />
              <mat-error *ngIf="billingForm.get('address')?.hasError('required')">
                Address is required
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field">
              <mat-label>City</mat-label>
              <input matInput placeholder="Enter City" formControlName="city" />
              <mat-error *ngIf="billingForm.get('city')?.hasError('required')">
                City is required
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field">
              <mat-label>State</mat-label>
              <input matInput placeholder="Enter State" formControlName="state" />
              <mat-error *ngIf="billingForm.get('state')?.hasError('required')">
                State is required
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Zip Code</mat-label>
              <input matInput placeholder="Enter Zip Code" formControlName="zipcode" />
              <mat-error *ngIf="billingForm.get('zipcode')?.hasError('required')">
                Zip Code is required
              </mat-error>
              <mat-error *ngIf="billingForm.get('zipcode')?.hasError('pattern')">
                Enter a valid 6-digit Zip Code
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Chemist ID</mat-label>
              <input matInput placeholder="Enter Chemist ID" formControlName="chemistId" />

            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field" *ngIf="billingForm.get('patientId')?.value">
              <mat-label>Patient ID</mat-label>
              <input matInput placeholder="Enter Patient ID (Optional)" formControlName="patientId" />
            </mat-form-field>

            <mat-checkbox color="warn" class="save-info" formControlName="autoAssign">
              Auto Assign
            </mat-checkbox>

          </form>


        </div>
      </div>

      <div class="bill-card fcol">


        <mat-card class="bill-box">
          <mat-card-header class="bill-header">
            <mat-card-title>Cart Total</mat-card-title>
          </mat-card-header>

          <mat-card-content>
            <div class="frow bill-amo">
              <p>Subtotal :</p>
              <p>{{ subtotal | currency : 'INR':'symbol' }}</p>
            </div>
            <hr />
            <div class="frow bill-amo">
              <p>Shipping :</p>
              <p>{{shippingCharges | currency : 'INR':'symbol'}}</p>
            </div>
            <hr />
            <div class="frow bill-amo">
              <p>Total :</p>
              <p>{{ subtotal + shippingCharges | currency : 'INR':'symbol' }}</p>
            </div>
          </mat-card-content>

          <mat-card-actions>
            <button
              mat-raised-button
              color="warn"
              class="proceed"
              [disabled]="billingForm.invalid"
              (click)="proceedToCheckout()"
            >
              Proceed to Checkout
            </button>
          </mat-card-actions>
          <div class="route-to-signup">
            <small>Want to go back? <a (click)="returntohome()">Home</a></small>
          </div>

        </mat-card>
      </div>
    </div>

    </div>



</mat-card>

